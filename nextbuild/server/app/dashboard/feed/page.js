(()=>{var e={};e.id=614,e.ids=[614],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},32081:e=>{"use strict";e.exports=require("child_process")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},26620:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>u,routeModule:()=>x,tree:()=>d});var s=a(73137),n=a(54647),r=a(4183),o=a.n(r),l=a(71775),i={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);a.d(t,i);let c=s.AppPageRouteModule,d=["",{children:["dashboard",{children:["feed",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,56861)),"/Users/matteoraggi/Dev/avvoltoio-smm/src/app/dashboard/feed/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,5055)),"/Users/matteoraggi/Dev/avvoltoio-smm/src/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,84167)),"/Users/matteoraggi/Dev/avvoltoio-smm/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,51918,23)),"next/dist/client/components/not-found-error"]}],u=["/Users/matteoraggi/Dev/avvoltoio-smm/src/app/dashboard/feed/page.tsx"],m="/dashboard/feed/page",p={require:a,loadChunk:()=>Promise.resolve()},x=new c({definition:{kind:n.x.APP_PAGE,page:"/dashboard/feed/page",pathname:"/dashboard/feed",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},41149:(e,t,a)=>{Promise.resolve().then(a.bind(a,98614))},98614:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>feed_page});var s=a(60080),n=a(9885),r=a(91418),o=a(11440),l=a.n(o),i=a(78735),c=a(94595);let public_IconUploadImage=()=>s.jsx("svg",{className:"svg-icon",viewBox:"0 0 20 20",stroke:"#4B2CA0",children:s.jsx("path",{d:"M18.555,15.354V4.592c0-0.248-0.202-0.451-0.45-0.451H1.888c-0.248,0-0.451,0.203-0.451,0.451v10.808c0,0.559,0.751,0.451,0.451,0.451h16.217h0.005C18.793,15.851,18.478,14.814,18.555,15.354 M2.8,14.949l4.944-6.464l4.144,5.419c0.003,0.003,0.003,0.003,0.003,0.005l0.797,1.04H2.8z M13.822,14.949l-1.006-1.317l1.689-2.218l2.688,3.535H13.822z M17.654,14.064l-2.791-3.666c-0.181-0.237-0.535-0.237-0.716,0l-1.899,2.493l-4.146-5.42c-0.18-0.237-0.536-0.237-0.716,0l-5.047,6.598V5.042h15.316V14.064z M12.474,6.393c-0.869,0-1.577,0.707-1.577,1.576s0.708,1.576,1.577,1.576s1.577-0.707,1.577-1.576S13.343,6.393,12.474,6.393 M12.474,8.645c-0.371,0-0.676-0.304-0.676-0.676s0.305-0.676,0.676-0.676c0.372,0,0.676,0.304,0.676,0.676S12.846,8.645,12.474,8.645"})}),public_IconSetLocation=()=>s.jsx("svg",{className:"svg-icon",viewBox:"0 0 20 20",stroke:"#4B2CA0",children:s.jsx("path",{d:"M10,1.375c-3.17,0-5.75,2.548-5.75,5.682c0,6.685,5.259,11.276,5.483,11.469c0.152,0.132,0.382,0.132,0.534,0c0.224-0.193,5.481-4.784,5.483-11.469C15.75,3.923,13.171,1.375,10,1.375 M10,17.653c-1.064-1.024-4.929-5.127-4.929-10.596c0-2.68,2.212-4.861,4.929-4.861s4.929,2.181,4.929,4.861C14.927,12.518,11.063,16.627,10,17.653 M10,3.839c-1.815,0-3.286,1.47-3.286,3.286s1.47,3.286,3.286,3.286s3.286-1.47,3.286-3.286S11.815,3.839,10,3.839 M10,9.589c-1.359,0-2.464-1.105-2.464-2.464S8.641,4.661,10,4.661s2.464,1.105,2.464,2.464S11.359,9.589,10,9.589"})});var d=a(69841),u=a(25554),m=a(57702),p=a(34751);let components_Map=()=>{let e=(0,n.useRef)(),{geoloc:t,setGeoloc:a}=(0,n.useContext)(u.GeolocContext),[r,o]=(0,n.useState)(),l=(0,n.useMemo)(()=>({lat:41.89193,lng:12.51133}),[]),i=(0,n.useMemo)(()=>({streetViewControl:!1,mapTypeControl:!1}),[]),c=(0,n.useCallback)(t=>e.current=t,[]);return s.jsx(s.Fragment,{children:s.jsx(m.b6,{zoom:6,center:l,mapContainerClassName:"h-[600px] w-full",onLoad:c,onClick:e=>{o({lat:e.latLng.lat(),lng:e.latLng.lng()}),a({latitude:e.latLng.lat(),longitude:e.latLng.lng(),accuracy:35,speed:0,heading:0,timestamp:0,refresh:!1})},options:i,children:r&&s.jsx(m.jC,{position:{lat:r.lat,lng:r.lng}})})})};var x=a(52451),h=a.n(x);let components_CreateSquealForm=e=>{let{isLoaded:t}=(0,m.Ji)({googleMapsApiKey:"AIzaSyDTiBSWt4Ft7tUnZdmrmyZMsFr1MeWzSsM"}),{geoloc:a,setGeoloc:r}=(0,n.useContext)(u.GeolocContext),[o,l]=(0,n.useState)(!1),[x,g]=(0,n.useState)(""),f=(0,n.useRef)(null),b=(0,n.useRef)(null),j=(0,n.useRef)(0),[y,v]=(0,n.useState)(""),[_,C]=(0,n.useState)([]),[w,N]=(0,n.useState)(""),[q,F]=(0,n.useState)([]),[S,A]=(0,n.useState)([]),[k,M]=(0,n.useState)([]),[B,z]=(0,n.useState)({remainingChars:0,type:""}),{clients:R,setClients:D}=(0,n.useContext)(c.ClientsContext),[E,L]=(0,n.useState)(!1),[I,P]=(0,n.useState)(0);(0,n.useEffect)(()=>{_&&squealDestination(),getRemainingChars()},[w,y]),(0,n.useEffect)(()=>{getRemainingChars()},[R,x]),(0,n.useEffect)(()=>{M([])},[R]);let squealDestination=()=>{let e=i.F+"api/squeals-destination/smm/"+R.login+`?search=${q}`;console.log(e),fetch(e,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+localStorage.getItem("id_token")}}).then(e=>{if(!e.ok)throw e.status;return e.json()}).then(e=>{A(e),console.log(S)}).catch(e=>{console.log("Authorization failed : "+e.message)})},getRemainingChars=()=>{let e=i.F+"api/client-chars/"+R.login;fetch(e,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+localStorage.getItem("id_token")}}).then(e=>{if(!e.ok)throw e.status;return e.json()}).then(e=>{j.current=e.remainingChars,z({remainingChars:e.remainingChars-x.length,type:e.type}),console.log(e)}).catch(e=>{console.log("Authorization failed: "+e.message)})},handleInput=e=>{N(e);var t=e.split("");"#"===t[0]&&(t[0]="%23"),F(e=t.join("")),document.getElementById("list")?.classList.remove("notdisplayed")},charsStyleName=e=>"DAY"===e?"del giorno":"WEEK"===e?"della settimana":"MONTH"===e?"del mese":void 0,setFileData=e=>{let t=e.target;if(console.log(e.target),t?.files?.[0]){let e=t.files[0];if(!e.type.startsWith("image/"))return;toBase64(e,t=>{f.current=t,b.current=e.type,v(`data: ${b.current}  ;base64, ${f.current}`)})}},toBase64=(e,t)=>{let a=new FileReader;a.onload=e=>{if("string"==typeof e.target?.result){let a=e.target.result.substring(e.target.result.indexOf("base64,")+7);t(a)}},a.readAsDataURL(e)},showChange=()=>{P(Math.random())};return t?s.jsx(s.Fragment,{children:(0,s.jsxs)("form",{className:"bg-white rounded-xl p-6 w-1/2",onSubmit:t=>{t.preventDefault();let s=i.F+"api/client-post/"+R.login;fetch(s,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+localStorage.getItem("id_token")},body:JSON.stringify({destination:k,body:x,img:f.current,img_content_type:b.current,geoloc:{latitude:a.latitude,longitude:a.longitude,accuracy:a.accuracy,speed:a.speed,heading:a.heading,timestamp:Date.now(),refresh:a.refresh}})}).then(e=>(e.ok||L(!0),g(""),C([]),f.current=null,b.current=null,v(""),e.json())).then(t=>{C(e=>[...e,...w]),e.setFeedArray([t].concat(e.feedArray)),console.log(e.feedArray),p.toast.success("Hai Squealato!",{autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,theme:"colored"})}).catch(e=>{console.log("Authorization failed : "+e.message)})},children:[s.jsx("p",{className:"pb-3 text-2xl",children:"Create a new squeal"}),s.jsx("div",{className:"w-full mb-3 border border-gray-200 rounded-lg bg-[#F4F4F4]",children:(0,s.jsxs)("div",{className:"mt-2 mb-2 ml-4 mr-4 bg-[#F4F4F4] rounded-t-lg ",children:[s.jsx("span",{className:"block text-sm font-medium text-gray-900  sr-only",children:"Destinazione"}),s.jsx("div",{className:"flex mb-2",children:k.length>0&&k.map(e=>(0,s.jsxs)("div",{className:"flex border-2 border-black bg-[#4B2CA0] p-1 mr-2 w-fit rounded-lg text-white",children:[s.jsx("div",{onClick:()=>{let t=k.indexOf(e);k.splice(t,1),showChange()},className:"pointer",children:s.jsx(d.Z,{})}),e.destination]}))}),(0,s.jsxs)("div",{className:"relative",children:[s.jsx("textarea",{id:"dest",className:"w-full px-0 text-sm text-gray-900 border-0 focus:ring-0  rounded-lg bg-[#F4F4F4] peer block min-h-[auto] bg-transparent py-[0.32rem] leading-[1.6] outline-none transition-all duration-200 ease-linear focus:placeholder:opacity-100 data-[te-input-state-active]:placeholder:opacity-100 motion-reduce:transition-none [&:not([data-te-input-placeholder-active])]:placeholder:opacity-0",onChange:e=>handleInput(e.target.value),value:w}),s.jsx("label",{htmlFor:"dest",className:"pointer-events-none absolute top-0 mb-0 max-w-[90%] origin-[0_0] truncate pt-[0.37rem] leading-[1.6] text-neutral-500 transition-all duration-200 ease-out peer-focus:-translate-y-[0.9rem] peer-focus:scale-[0.8] peer-focus:text-primary peer-data-[te-input-state-active]:-translate-y-[0.9rem] peer-data-[te-input-state-active]:scale-[0.8] motion-reduce:transition-none",children:"Destinazione"})]}),w.length>0&&s.jsx("ul",{id:"list",className:"absolute shadow-md bg-white w-1/5 p-3 max-h-[200px] overflow-hidden overflow-y-scroll z-30",children:S.map(e=>s.jsx("li",{className:"min-h-10 w-full border-b-[1px] border-solid border-l-grey-300 py-2 list-none",onClick:()=>{N("");let t=k.find(t=>t.destination_id===e.destination_id);t||(M(t=>[...t,e]),document.getElementById("list")?.classList.add("notdisplayed"))},id:"suggestions",children:e.destination},e.destination_id))})]},I)}),(0,s.jsxs)("div",{className:"w-full mb-4 border border-gray-200 rounded-lg bg-[#F4F4F4] ",children:[(0,s.jsxs)("div",{className:"relative mx-4 my-2 rounded-t-lg  bg-[#F4F4F4]",children:[s.jsx("label",{htmlFor:"comment",className:"sr-only",children:"Your comment"}),s.jsx("textarea",{id:"body",rows:4,className:"w-full px-0 text-sm text-gray-900 border-0  focus:ring-0  rounded-lg bg-[#F4F4F4] peer block min-h-[auto] bg-transparent py-[0.32rem] leading-[1.6] outline-none transition-all duration-200 ease-linear focus:placeholder:opacity-100 data-[te-input-state-active]:placeholder:opacity-100 motion-reduce:transition-none   [&:not([data-te-input-placeholder-active])]:placeholder:opacity-0",required:!0,onChange:e=>g(e.target.value),value:x,maxLength:0===j.current?j.current=10:j.current}),0===x.length?s.jsx("label",{htmlFor:"body",className:"pointer-events-none absolute top-0 mb-0 max-w-[90%] origin-[0_0] truncate pt-[0.37rem] leading-[1.6] text-neutral-500 transition-all duration-200 ease-out peer-focus:-translate-y-[0.9rem] peer-focus:scale-[0.8] peer-focus:text-primary peer-data-[te-input-state-active]:-translate-y-[0.9rem] peer-data-[te-input-state-active]:scale-[0.8] motion-reduce:transition-none ",children:`Body - Caratteri rimanenti ${charsStyleName(B?.type)}: ${B?.remainingChars}`}):s.jsx("label",{htmlFor:"body",className:"pointer-events-none absolute top-0 mb-0 max-w-[90%] origin-[0_0] truncate pt-[0.37rem] leading-[1.6] text-neutral-500 transition-all duration-200 ease-out -translate-y-[0.9rem] scale-[0.8] text-primary motion-reduce:transition-none",children:`Body - Caratteri rimanenti ${charsStyleName(B?.type)}: ${B?.remainingChars}`}),f.current&&s.jsx(h(),{src:y,alt:"squealerImage",className:"h-48 w-48 rounded-full mr-3"}),f.current&&s.jsx("p",{onClick:()=>{f.current=null,b.current=null,v("")},className:"pointer",children:"Rimuovi"}),o&&s.jsx(components_Map,{})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between px-3 py-2 border-t rounded-b-md  bg-[#D9D9D9]",children:[s.jsx("button",{type:"submit",className:"inline-flex items-center py-1.5 px-4 text-[14px] font-medium text-center text-white bg-[#4B2CA0] rounded-3xl focus:ring-4 focus:ring-blue-200 ",children:"Posta"}),(0,s.jsxs)("div",{className:"flex pl-0 space-x-1 sm:pl-2",children:[o?(0,s.jsxs)("button",{type:"button",className:"inline-flex justify-center items-center p-2 rounded cursor-pointer text-black hover:text-gray-900 hover:bg-gray-100 ",onClick:()=>{l(!o),r({latitude:null,longitude:null,accuracy:null,speed:null,heading:null,timestamp:null,refresh:null})},children:[s.jsx(public_IconSetLocation,{}),s.jsx("span",{className:"sr-only",children:"Set Location"})]}):(0,s.jsxs)("button",{type:"button",className:"inline-flex justify-center items-center p-2 rounded cursor-pointer text-black hover:text-gray-900 hover:bg-gray-100 ",onClick:()=>{l(!o)},children:[s.jsx(public_IconSetLocation,{}),s.jsx("span",{className:"sr-only",children:"Set Location"})]}),(0,s.jsxs)("label",{htmlFor:"file-upload",className:"inline-flex justify-center items-center p-2 rounded cursor-pointer text-black hover:text-gray-900 hover:bg-gray-100 ",children:[s.jsx(public_IconUploadImage,{}),s.jsx("span",{className:"sr-only",children:"Upload image"}),s.jsx("input",{id:"file-upload",name:"file-upload",accept:"image/*",type:"file",className:"sr-only",onChange:e=>setFileData(e)})]})]})]})]})]})}):s.jsx("div",{children:"Loading..."})};var g=a(43872),f=a.n(g),b=a(92034),j=a.n(b),y=a(94599),v=a.n(y),_=a(52208),C=a.n(_),w=a(57546),N=a(73807),q=a(35550),F=a(16526),S=a(75397),A=a(50518),k=a(56490),M=a(99360),B=a.n(M),z=a(84088),R=a(91226);let D=(0,n.lazy)(()=>a.e(900).then(a.bind(a,63900))),feed_page=()=>{(0,m.Ji)({googleMapsApiKey:"AIzaSyDTiBSWt4Ft7tUnZdmrmyZMsFr1MeWzSsM"});let e=/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/gm,{clients:t,setClients:a}=(0,n.useContext)(c.ClientsContext),[o,d]=(0,n.useState)([]),[u,p]=(0,n.useState)(!1),x=(0,n.useRef)(""),g=(0,n.useRef)(!0),b=(0,n.useRef)(""),y=(0,n.useRef)(!0),{socket:_,setSocket:M}=(0,n.useContext)(z.SocketioContext),E=(0,n.useRef)(0),L=[{name:"heart",label:"heart",icon:s.jsx(w.Z,{}),command:()=>{addReaction("heart",!0)}},{name:"exploding",label:"exploding",icon:s.jsx(A.Z,{}),command:()=>{addReaction("exploding",!0)}},{name:"cold",label:"cold",icon:s.jsx(q.Z,{}),command:()=>{addReaction("cold",!0)}},{name:"nerd",label:"nerd",icon:s.jsx(S.Z,{}),command:()=>{addReaction("nerd",!1)}},{name:"clown",label:"clown",icon:s.jsx(F.Z,{}),command:()=>{addReaction("clown",!1)}},{name:"bored",label:"bored",icon:s.jsx(N.Z,{}),command:()=>{addReaction("bored",!1)}}],I=i.F+`api/client-feed/${t.login}/?page=${E.current}&size=10`,P=i.F+`api/client-feed/${t.login}/?page=0&size=10`,loadContent=e=>{console.log(e),p(!0),fetch(e,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+localStorage.getItem("id_token")}}).then(e=>{if(!e.ok)throw e.status;return e.json()}).then(e=>{g.current&&(g.current=!1),d(t=>[...t,...e]),E.current++,console.log(o),console.log(o)}).catch(e=>{console.log(e)}).finally(()=>{p(!1)})},addReaction=(e,a)=>{let s=i.F+`api/client-squeal-reaction/create/${t.login}`;fetch(s,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+localStorage.getItem("id_token")},body:JSON.stringify({positive:a,emoji:e,squeal_id:x.current})}).then(e=>{if(!e.ok)throw e.status;return e.json()}).then(e=>{var t;o.map(e=>{e?.squeal?._id===x.current&&(t=e)});let a=t?.reactions?.find(e=>e.reaction===t?.active_reaction);if(t?.active_reaction){if(a?.number&&(a.number--,a.number<=0)){let e=t?.reactions.indexOf(a);t?.reactions?.splice(e,1)}if("deleted"===e.emoji){t.active_reaction=null;let a=o.map(t=>(t?.squeal?._id===e.squeal_id&&(t.squeal._id=t.squeal._id+""),t));d(a);return}}if(a=t?.reactions?.find(t=>t.reaction===e.emoji),a?.number)a.number++;else{let a={number:1,reaction:e.emoji??"deleted",user:!1};t?.reactions?.push(a)}t.active_reaction=e.emoji;let s=o.map(t=>(t?.squeal?._id===e.squeal_id&&(t.squeal._id=t.squeal._id+""),t));d(s)}).catch(e=>{console.log(e.response)})};(0,n.useEffect)(()=>(window.addEventListener("scroll",loadMore),()=>window.removeEventListener("scroll",loadMore)),[u]),(0,n.useEffect)(()=>{if(!(y.current||b.current!==t.login)){b.current=t.login;return}d([]),E.current=0,loadContent(P),y.current=!1,b.current=t.login},[t]);let loadMore=()=>{if(g.current)return;let e=document.documentElement.scrollTop,t=document.documentElement.scrollHeight,a=document.documentElement.clientHeight;e+a>=t&&!u&&loadContent(I)};return s.jsx(s.Fragment,{children:(0,s.jsxs)("section",{className:"bg-[#F4F4F4]",children:[s.jsx("div",{className:"arrow-back",children:s.jsx(l(),{href:"/dashboard",children:s.jsx(r.Z,{sx:{fontSize:50}})})}),t.email?(0,s.jsxs)("div",{className:"feed",children:[s.jsx(components_CreateSquealForm,{feedArray:o,setFeedArray:d}),s.jsx("span",{className:"mt-6"}),o.map(t=>{let a=Date.now(),getIcon=e=>{switch(e){case"heart":return s.jsx(w.Z,{});case"exploding":return s.jsx(A.Z,{});case"cold":return s.jsx(q.Z,{});case"nerd":return s.jsx(S.Z,{});case"clown":return s.jsx(F.Z,{});case"bored":return s.jsx(N.Z,{});default:return null}},r=`data: ${t.squeal?.img_content_type}  ;base64, ${t.squeal?.img}`,o=t.squeal?.body?.split(" ");return(0,s.jsxs)("div",{className:"p-5 w-1/2 bg-white shadow-lg shadow-grey-500/50 rounded-xl mb-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center border-slate-500 ",children:[(0,s.jsxs)("div",{className:"flex flex-row",children:[s.jsx(h(),{className:"w-10 h-10 rounded-full mr-3",src:R.Z,alt:"Rounded avatar",width:50,height:50}),s.jsx(l(),{href:"/dashboard/feed/"+t.userName,className:"flex content-center justify-center align-middle",children:(0,s.jsxs)("h3",{className:"font-normal text-2xl",children:["@",t.userName]})})]}),s.jsx("span",{className:"text-[16px] font-medium inline-flex text-[#B4ACAC]",children:function(e,t){var a=e-t;return a<6e4?Math.round(a/1e3)+" seconds ago":a<36e5?Math.round(a/6e4)+" minutes ago":a<864e5?Math.round(a/36e5)+" hours ago":a<2592e6?Math.round(a/864e5)+" days ago":a<31536e6?"about "+Math.round(a/2592e6)+" months ago":"about "+Math.round(a/31536e6)+" years ago"}(a,t?.squeal?.timestamp)})]}),s.jsx("div",{className:"flex gap-1 mt-4",children:t?.squeal?.destination?.map((e,t)=>s.jsx("p",{className:"mr-4 bg-[#4B2CA0] py-1 px-4 rounded-3xl text-white text-[16px]",children:s.jsx(l(),{href:"/dashboard/feed/channel/"+e.destination_id,children:e.destination})},t))}),(0,s.jsxs)("div",{className:"mt-6",children:[t.squeal?.img&&t.squeal?.img?.length!=0?s.jsx(h(),{src:r,alt:"image",width:500,height:500}):null,t.geoLoc?.latitude&&t.geoLoc.longitude?s.jsx(n.Suspense,{children:s.jsx(D,{lat:t.geoLoc.latitude,lng:t.geoLoc.longitude})}):null,s.jsx("p",{className:"mt-3",children:o?.map(t=>t.match(e)?s.jsxs(s.Fragment,{children:[s.jsx("a",{href:t,target:"_blank",className:"underline text-[#0000EE]",children:t},t)," "]}):t+" ")})]}),(0,s.jsxs)("div",{className:"flex justify-between mt-6 items-end mb-6",children:[s.jsx(k.Z,{squeal_id:t?.squeal?._id,squealDestinations:t?.squeal?.destination,user_id:t?.squeal?.user_id,num_comments:t?.comments_number}),(0,s.jsxs)("div",{className:"flex",children:[t.squeal.body.length>1?(0,s.jsxs)("p",{className:"text-[16px] font-medium inline-flex text-[#B4ACAC]",children:[t.squeal?.body?.length," Caratteri"]}):(0,s.jsxs)("p",{className:"text-[16px] font-medium inline-flex text-[#B4ACAC]",children:[t.squeal?.body?.length," Carattere"]}),(0,s.jsxs)("p",{className:"text-[16px] font-medium inline-flex ml-5 text-[#B4ACAC]",children:[t?.views?.number," Views"]})]})]}),(0,s.jsxs)("div",{className:"flex justify-between mt-6 items-end mb-6",children:[s.jsx("div",{className:"reactions",children:s.jsx(f(),{children:s.jsx(j(),{ariaLabel:"Reaction SpeedDial",icon:s.jsx(v(),{}),direction:"right",FabProps:{sx:{bgcolor:"#F4F4F4",color:"#4B2CA0","&:hover":{bgcolor:"#4B2CA0",color:"#F4F4F4"}}},children:L.map((e,a)=>s.jsx(C(),{icon:e.icon,tooltipTitle:e.name,onClick:function(){void 0!=t.squeal&&void 0!=t.squeal._id&&null!=x.current&&(x.current=t.squeal._id,e.command())},className:"w-12 h-12"},a))})})}),s.jsx("ul",{className:"flex gap-x-3",children:t?.reactions?.map((e,t)=>s.jsxs("li",{className:"relative flex items-center gap-x-3 bg-white rounded-3xl",children:[getIcon(e.reaction),s.jsx("div",{className:"absolute inline-flex items-center justify-center w-5 h-5 text-xs font-bold text-white bg-[#4B2CA0] border-2 border-white rounded-full -bottom-2 -end-2 dark:border-gray-900",children:e.number})]},t))})]})]},t?.squeal?._id)}),u?s.jsx(f(),{sx:{display:"flex"},children:s.jsx(B(),{})}):null]}):s.jsx("p",{className:"flex justify-center",children:"Scegli un utente"})]})})}},56861:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>o,__esModule:()=>r,default:()=>i});var s=a(17536);let n=(0,s.createProxy)(String.raw`/Users/matteoraggi/Dev/avvoltoio-smm/src/app/dashboard/feed/page.tsx`),{__esModule:r,$$typeof:o}=n,l=n.default,i=l}};var t=require("../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),a=t.X(0,[672,520,194,418,937,195,359,264,360,978,85,464,333],()=>__webpack_exec__(26620));module.exports=a})();